---
import SocialList from "@/components/SocialList.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import { getAllPosts, sortMDByDate } from "@/data/post";
import PageLayout from "@/layouts/Base.astro";

const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);

// const cactusTech: { desc: string; href: string; title: string }[] = [
// 	{
// 		desc: "Build fast websites, faster.",
// 		href: "https://astro.build",
// 		title: "Astro",
// 	},
// 	{
// 		desc: "Rapidly build modern websites without ever leaving your HTML.",
// 		href: "https://tailwindcss.com",
// 		title: "Tailwind CSS",
// 	},
// 	{
// 		desc: "Simple and easy-to-use markup language.",
// 		href: "https://www.markdownguide.org/",
// 		title: "Markdown",
// 	},
// 	{
// 		desc: "Markdown for the component era.",
// 		href: "https://mdxjs.com/",
// 		title: "MDX",
// 	},
// 	{
// 		desc: "Generating png Open Graph images for blog posts.",
// 		href: "https://github.com/vercel/satori",
// 		title: "Satori",
// 	},
// 	{
// 		desc: "A fully static search library.",
// 		href: "https://pagefind.app/",
// 		title: "Pagefind",
// 	},
// 	{
// 		desc: "An easy to use Icon component for Astro.",
// 		href: "https://github.com/natemoo-re/astro-icon#readme",
// 		title: "Astro Icon",
// 	},
// 	{
// 		desc: "Highly customisable source code & syntax highlighter",
// 		href: "https://expressive-code.com/",
// 		title: "Expressive Code",
// 	},
// ];
---

<PageLayout meta={{ title: "Beranda" }}>
	<section>
		<h1 class="title mb-6">Halo Pengembara...üëãüèª</h1>
		<p class="mb-4">
			Selamat datang di <span class="font-extrabold text-yellow-600">Catatan Terpencilku.</span> Di sini, di sudut kecil dunia maya ini, aku menuangkan
			serpihan cerita, pemikiran liar, dan momen-momen sederhana dari keseharianku. Mungkin tak
			selalu megah atau luar biasa, tapi itulah hidup‚Äîkadang manis, kadang pahit, dan sering kali
			penuh kejutan. Melalui tulisan-tulisan ini, aku berharap bisa berbagi secuil rasa, canda, dan
			bahkan keluh kesah, layaknya berbicara dengan teman lama di sore yang tenang. Terima kasih
			sudah mampir, semoga kita bisa saling berbagi rasa di sini. Selamat membaca, Dari sudut
			terpencilku ke sudut hatimu.
		</p>
		<SocialList />
	</section>
	<section aria-label="Blog post list" class="mt-16">
		<h2 class="title mb-4 text-xl">Tulisan-tulisan diri ini</h2>
		<ul class="space-y-4">
			{
				allPostsByDate.map((p) => (
					<li class="grid gap-2 sm:grid-cols-[auto_1fr] sm:[&_q]:col-start-2">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>
	<!-- <section class="mt-16">
		<h2 class="title mb-4 text-xl">Technologies</h2>
		<dl class="space-y-4">
			{
				cactusTech.map(({ desc, href, title }) => (
					<div class="flex flex-col gap-2 sm:flex-row">
						<dt>
							<span class="flex">
								<a class="cactus-link" href={href} rel="noopener noreferrer" target="_blank">
									{title}
								</a>
								:
							</span>
						</dt>
						<dd>{desc}</dd>
					</div>
				))
			}
		</dl>
	</section> -->
</PageLayout>
